@page
@model IndexModel
@{
    ViewData["Title"] = "Delivery page";
}
<link rel="stylesheet" href="css/delivery.css" asp-append-version="true" />

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="~/js/site.js"></script>
    <title>Shopping Page</title>
    <style>
        /* Basic styles */
    </style>
</head>
<body>

<div class="top">
    <input type="text" placeholder="Cart Search">
    <a href="/profile">
        <img class="profile-logo" src="profile-user.png" alt="Profile Logo">
    </a>
</div>

<div class="search-toggle-container">
    <div class="toggle-buttons">
        <button id="deliveryButton" class="active" onclick="toggleActive('deliveryButton')">Delivery</button>
        <button id="shoppingListButton" onclick="toggleActive('shoppingListButton')">In Store</button>
    </div>
    <!-- <div class="store-search">
        <input type="text" id="storeSearchInput" placeholder="Store Search" oninput="filterStores()">
        <button id="searchButton">Search</button>
    </div> -->

</div>

<div class="progress-container">
    <button id="filterButton"><img src="/filter.png" alt="Filter Icon">
        <span>Filter and Sort</span>
    </button>
    <div class="progress-bar">
        <div class="progress"></div>
    </div>
    <div class="budget-input">
        <label for="budget">Budget:</label>
        <input type="number" id="budget" placeholder="Enter your budget">
        <button id="updateButton">Update</button>
    </div>

    <div class="store-search">
        <input type="text" id="storeSearchInput" placeholder="Store Search" oninput="filterStores()" size="60">
        <!-- <button id="searchButton">Search</button> -->
    </div>
</div>

<!-- Main Content Area -->
<div class="main-content">

    <!-- Cart Section -->
    <div class="cart-section" id="cart-section">
        <div class="product">
            <img src="path/to/image" alt="Black Shirt" width="50">
            <div>
                <p>Black Shirt</p>
                <p>Store: H & M</p>
                <p>Size: Large</p>
                <p>Price: $20</p>
            </div>
            <p>★★★★☆</p>
        </div>
        <div class="product">
            <img src="path/to/image" alt="White Pants" width="50">
            <div>
                <p>White Pants</p>
                <p>Store: Zara</p>
                <p>Size: Large</p>
                <p>Price: $70</p>
            </div>
            <p>★★★★☆</p>
        </div>
        <div class="checkout">
            <button>Checkout</button>
            <p>Total: $90</p>
        </div>
    </div>

    <!-- Shopping List Section -->
    <div id="inStoreContent" class="shopping-list" style="display: none;">
        <h2>Shopping List</h2>
        <div class="store-item">
            <div>Zara</div>
            <div>
                <p>Black Shirt - $30</p>
                <p>White Shirt - $30</p>
            </div>
        </div>
        <div class="store-item">
            <div>H & M</div>
            <div>
                <p>Black Shirt - $30</p>
                <p>White Shirt - $30</p>
            </div>
        </div>
        <div class="total">Total: $50</div>
    </div>

    <!-- Store Section (which remains unchanged) -->
    <div class="store-section">
        <div class="store" id="store-0">
            <a href="/zara" target="_blank">
                <div class="store-logo-container">
                    <img src="/Zara_logo.png" alt="Zara Logo" class="store-logo">
                </div>
            </a>
            <div class="store-name">Zara</div>
        </div>
        <div class="store" id="store-1">
            <a href="/h&m" target="_blank">
            <div class="store-logo-container">
                <img src="/HM_logo.png" alt="H&M Logo" class="store-logo">
            </div>
            </a>
            <div class="store-name">H & M</div>
        </div>

        <div class="store" id="store-2">
            <a href="/northface" target="_blank">
            <div class="store-logo-container">
                <img src="/Northface_logo.png" alt="Northface Logo" class="store-logo">
            </div>
            </a>
            <div class="store-name">The North Face</div>
        </div>

        <div class="store" id="store-3">
            <div class="store-logo-container">
                <img src="/LV_Logo.png" alt="LV Logo" class="store-logo">
            </div>
            <div class="store-name">Louis Vuitton</div>
        </div>

        <div class="store" id="store-4">
            <div class="store-logo-container">
                <img src="/AE_logo.png" alt="AE Logo" class="store-logo">
            </div>
            <div class="store-name">American Eagle</div>
        </div>

        <div class="store" id="store-5">
            <a href="/ftg" target="_blank">
            <div class="store-logo-container">
                <img src="/ftg_logo.png" alt="FTG Logo" class="store-logo">
            </div>
            </a>
            <div class="store-name">For The Geng</div>
        </div>

        <div class="store" id="store-6">
            <div class="store-logo-container">
                <img src="/TH_logo.png" alt="TH Logo" class="store-logo">
            </div>
            <div class="store-name">Tommy Hilfiger</div>
        </div>

        <div class="store" id="store-7">
            <div class="store-logo-container">
                <img src="/Prada_logo.png" alt="Prada Logo" class="store-logo">
            </div>
            <div class="store-name">Prada</div>
        </div>

        <div class="store" id="store-8">
            <div class="store-logo-container">
                <img src="/Canada_Goose_logo.png" alt="Canada Goose Logo" class="store-logo">
            </div>
            <div class="store-name">Canada Goose</div>
        </div>
            <div id="noResultsMessage" style="display: none;">
                No stores found for your search.
            </div>
    </div>

</div>



<!-- JavaScript to toggle between cart-section and shopping-list -->
<!-- <script>
    function toggleActive(buttonId) {
        const inStoreContent = document.getElementById('inStoreContent');
        const cartSection = document.getElementById('cart-section');

        if (buttonId === 'shoppingListButton') {
            inStoreContent.style.display = 'block';
            cartSection.style.display = 'none';
        } else {
            inStoreContent.style.display = 'none';
            cartSection.style.display = 'block';
        }

        const buttons = document.querySelectorAll('.toggle-buttons button');
        buttons.forEach(button => {
            if (button.id === buttonId) {
                button.classList.add('active');
            } else {
                button.classList.remove('active');
            }
        });
    }
</script> -->

<script>
document.addEventListener("DOMContentLoaded", function() {
    // const cart = JSON.parse(localStorage.getItem('cart')) || [];
    // const cartSection = document.getElementById('cart-section');

    // // Clear cart section first
    // while (cartSection.firstChild) {
    //     cartSection.removeChild(cartSection.firstChild);
    // }

    // // Populate the cart section with items from localStorage
    // cart.forEach(productId => {
    //     // Here, you would fetch product details by productId (e.g., from an API or a data array)
    //     // and then create and append product elements to cartSection
    //     // For this example, let's just append a simple text node for each product

    //     const productElement = document.createElement('div');
    //     productElement.className = 'product';
    //     productElement.textContent = "Product ID: " + productId;
    //     cartSection.appendChild(productElement);
    // });

    loadCartItems("cart-section");

    // Append the checkout section
    const checkoutDiv = document.createElement('div');
    checkoutDiv.className = 'checkout';
    checkoutDiv.innerHTML = '<button>Checkout</button><p>Total: $' + (cart.length * 20) + '</p>'; // Assuming each product costs $20 for simplicity
    cartSection.appendChild(checkoutDiv);
});

</script>

</body>
</html>

